<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Particle Playground - Chace Liu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #9b59b6 100%);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #ffffff;
            overflow: hidden;
            cursor: none;
        }

        .header {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            text-align: center;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.1);
            padding: 20px 30px;
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #ffffff 0%, #f8f9fa 25%, #e9ecef 50%, #ffffff 75%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textShimmer 3s ease-in-out infinite;
        }

        .header p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        @keyframes textShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .nav-button {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #FF6B6B, #4ECDC4, #45B7D1);
            background-size: 300% 300%;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            animation: gradientShift 4s ease infinite;
            cursor: pointer;
            position: relative;
        }

        .nav-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .playground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            z-index: 1;
        }

        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            pointer-events: none;
            z-index: 9999;
            transition: all 0.1s ease;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .custom-cursor.active {
            transform: scale(2);
            border-color: #ff6b6b;
            box-shadow: 0 0 30px #ff6b6b;
        }

        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 25px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .control-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            color: white;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .control-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .control-button.active {
            background: linear-gradient(135deg, #FF6B6B, #4ECDC4);
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.4);
        }

        .particle {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            animation: particleFloat 3s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            10% {
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0) translateY(-200px);
            }
        }

        .firework {
            position: absolute;
            pointer-events: none;
        }

        .spark {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkFly 1.5s ease-out forwards;
        }

        @keyframes sparkFly {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        .trail {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            animation: trailFade 0.8s ease-out forwards;
        }

        @keyframes trailFade {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0.1);
            }
        }

        .wave {
            position: absolute;
            border: 2px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            pointer-events: none;
            animation: waveExpand 1s ease-out forwards;
        }

        @keyframes waveExpand {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 200px;
                height: 200px;
                opacity: 0;
            }
        }

        .gravity-well {
            position: absolute;
            width: 80px;
            height: 80px;
            border: 3px solid rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: wellPulse 2s ease-in-out infinite;
        }

        @keyframes wellPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .mode-indicator {
            position: fixed;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            z-index: 1000;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            min-width: 120px;
        }

        .mode-indicator h3 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: #fff;
        }

        .mode-indicator .mode-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #4ECDC4;
            text-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }

        .stats {
            position: fixed;
            top: 50%;
            left: 30px;
            transform: translateY(-50%);
            z-index: 1000;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            min-width: 120px;
        }

        .stats h3 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: #fff;
        }

        .stats .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #FF6B6B;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header {
                top: 10px;
                left: 10px;
                right: 10px;
                transform: none;
                padding: 15px 20px;
            }

            .header h1 {
                font-size: 1.4rem;
            }

            .header p {
                font-size: 0.8rem;
            }

            .controls {
                bottom: 10px;
                left: 10px;
                right: 10px;
                transform: none;
                flex-wrap: wrap;
                justify-content: center;
                padding: 10px 15px;
            }

            .control-button {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .mode-indicator,
            .stats {
                display: none;
            }

            body {
                cursor: auto;
            }

            .custom-cursor {
                display: none;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            .particle,
            .spark,
            .trail,
            .wave {
                animation-duration: 0.1s;
            }

            .header h1 {
                animation: none;
            }

            .nav-button {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <div class="custom-cursor" id="cursor"></div>

    <div class="header">
        <h1>🎨 Particle Playground</h1>
        <p>Move your mouse and click to create magical effects!</p>
        <a href="index.html" class="nav-button">← Back to Home</a>
    </div>

    <div class="playground" id="playground"></div>

    <div class="mode-indicator">
        <h3>Mode</h3>
        <div class="mode-name" id="currentMode">Sparkles</div>
    </div>

    <div class="stats">
        <h3>Particles</h3>
        <div class="stat-number" id="particleCount">0</div>
    </div>

    <div class="controls">
        <button class="control-button active" data-mode="sparkles">✨ Sparkles</button>
        <button class="control-button" data-mode="fireworks">🎆 Fireworks</button>
        <button class="control-button" data-mode="trails">🌟 Trails</button>
        <button class="control-button" data-mode="waves">🌊 Waves</button>
        <button class="control-button" data-mode="gravity">🌀 Gravity</button>
        <button class="control-button" data-mode="clear">🧹 Clear</button>
    </div>

    <script>
        class ParticlePlayground {
            constructor() {
                this.playground = document.getElementById('playground');
                this.cursor = document.getElementById('cursor');
                this.currentModeElement = document.getElementById('currentMode');
                this.particleCountElement = document.getElementById('particleCount');

                this.currentMode = 'sparkles';
                this.particleCount = 0;
                this.gravityWells = [];
                this.isMouseDown = false;

                this.mouseX = 0;
                this.mouseY = 0;
                this.lastMouseX = 0;
                this.lastMouseY = 0;

                this.colors = [
                    '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4',
                    '#FECA57', '#FF9FF3', '#54A0FF', '#5F27CD',
                    '#00D2D3', '#FF9F43', '#EE5A24', '#0ABDE3'
                ];

                this.init();
            }

            init() {
                this.setupEventListeners();
                this.startParticleCleanup();
                this.updateCursorPosition();
            }

            setupEventListeners() {
                // Mouse events
                document.addEventListener('mousemove', (e) => {
                    this.lastMouseX = this.mouseX;
                    this.lastMouseY = this.mouseY;
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;

                    this.updateCursorPosition();

                    if (this.isMouseDown) {
                        this.createEffect(this.mouseX, this.mouseY);
                    }
                });

                document.addEventListener('mousedown', (e) => {
                    this.isMouseDown = true;
                    this.cursor.classList.add('active');
                    this.createEffect(e.clientX, e.clientY);
                });

                document.addEventListener('mouseup', () => {
                    this.isMouseDown = false;
                    this.cursor.classList.remove('active');
                });

                // Touch events for mobile
                document.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    this.createEffect(touch.clientX, touch.clientY);
                });

                document.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    this.createEffect(touch.clientX, touch.clientY);
                });

                // Control buttons
                document.querySelectorAll('.control-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const mode = button.dataset.mode;
                        if (mode === 'clear') {
                            this.clearAll();
                        } else {
                            this.setMode(mode);
                        }
                    });
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    switch(e.key) {
                        case '1': this.setMode('sparkles'); break;
                        case '2': this.setMode('fireworks'); break;
                        case '3': this.setMode('trails'); break;
                        case '4': this.setMode('waves'); break;
                        case '5': this.setMode('gravity'); break;
                        case 'c': this.clearAll(); break;
                    }
                });
            }

            updateCursorPosition() {
                this.cursor.style.left = this.mouseX + 'px';
                this.cursor.style.top = this.mouseY + 'px';
            }

            setMode(mode) {
                this.currentMode = mode;
                this.currentModeElement.textContent = this.getModeDisplayName(mode);

                document.querySelectorAll('.control-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            }

            getModeDisplayName(mode) {
                const names = {
                    'sparkles': 'Sparkles',
                    'fireworks': 'Fireworks',
                    'trails': 'Trails',
                    'waves': 'Waves',
                    'gravity': 'Gravity'
                };
                return names[mode] || mode;
            }

            createEffect(x, y) {
                switch(this.currentMode) {
                    case 'sparkles':
                        this.createSparkles(x, y);
                        break;
                    case 'fireworks':
                        this.createFirework(x, y);
                        break;
                    case 'trails':
                        this.createTrail(x, y);
                        break;
                    case 'waves':
                        this.createWave(x, y);
                        break;
                    case 'gravity':
                        this.createGravityWell(x, y);
                        break;
                }
            }

            createSparkles(x, y) {
                const count = Math.random() * 8 + 5;
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle';

                        const size = Math.random() * 8 + 4;
                        const offsetX = (Math.random() - 0.5) * 60;
                        const offsetY = (Math.random() - 0.5) * 60;
                        const color = this.colors[Math.floor(Math.random() * this.colors.length)];

                        particle.style.width = size + 'px';
                        particle.style.height = size + 'px';
                        particle.style.left = (x + offsetX) + 'px';
                        particle.style.top = (y + offsetY) + 'px';
                        particle.style.background = `radial-gradient(circle, ${color} 0%, transparent 70%)`;
                        particle.style.boxShadow = `0 0 ${size * 2}px ${color}`;

                        this.playground.appendChild(particle);
                        this.particleCount++;
                        this.updateParticleCount();
                    }, i * 50);
                }
            }

            createFirework(x, y) {
                const sparkCount = Math.random() * 20 + 15;
                const color = this.colors[Math.floor(Math.random() * this.colors.length)];

                for (let i = 0; i < sparkCount; i++) {
                    const spark = document.createElement('div');
                    spark.className = 'spark';

                    const angle = (Math.PI * 2 * i) / sparkCount;
                    const velocity = Math.random() * 100 + 50;
                    const size = Math.random() * 6 + 3;

                    spark.style.width = size + 'px';
                    spark.style.height = size + 'px';
                    spark.style.left = x + 'px';
                    spark.style.top = y + 'px';
                    spark.style.background = color;
                    spark.style.boxShadow = `0 0 ${size * 2}px ${color}`;

                    const deltaX = Math.cos(angle) * velocity;
                    const deltaY = Math.sin(angle) * velocity;

                    spark.style.transform = `translate(${deltaX}px, ${deltaY}px)`;

                    this.playground.appendChild(spark);
                    this.particleCount++;
                }
                this.updateParticleCount();
            }

            createTrail(x, y) {
                if (this.lastMouseX && this.lastMouseY) {
                    const distance = Math.sqrt(
                        Math.pow(x - this.lastMouseX, 2) + Math.pow(y - this.lastMouseY, 2)
                    );

                    const steps = Math.floor(distance / 10);
                    for (let i = 0; i < steps; i++) {
                        const progress = i / steps;
                        const trailX = this.lastMouseX + (x - this.lastMouseX) * progress;
                        const trailY = this.lastMouseY + (y - this.lastMouseY) * progress;

                        setTimeout(() => {
                            const trail = document.createElement('div');
                            trail.className = 'trail';

                            const size = Math.random() * 12 + 8;
                            const color = this.colors[Math.floor(Math.random() * this.colors.length)];

                            trail.style.width = size + 'px';
                            trail.style.height = size + 'px';
                            trail.style.left = trailX + 'px';
                            trail.style.top = trailY + 'px';
                            trail.style.background = `radial-gradient(circle, ${color} 0%, transparent 70%)`;
                            trail.style.boxShadow = `0 0 ${size}px ${color}`;

                            this.playground.appendChild(trail);
                            this.particleCount++;
                        }, i * 10);
                    }
                    this.updateParticleCount();
                }
            }

            createWave(x, y) {
                const wave = document.createElement('div');
                wave.className = 'wave';

                const color = this.colors[Math.floor(Math.random() * this.colors.length)];

                wave.style.left = (x - 100) + 'px';
                wave.style.top = (y - 100) + 'px';
                wave.style.borderColor = color;
                wave.style.boxShadow = `0 0 20px ${color}`;

                this.playground.appendChild(wave);
                this.particleCount++;
                this.updateParticleCount();
            }

            createGravityWell(x, y) {
                const well = document.createElement('div');
                well.className = 'gravity-well';

                well.style.left = (x - 40) + 'px';
                well.style.top = (y - 40) + 'px';

                const color = this.colors[Math.floor(Math.random() * this.colors.length)];
                well.style.borderColor = color;
                well.style.boxShadow = `0 0 30px ${color}`;

                this.playground.appendChild(well);
                this.gravityWells.push({ element: well, x: x, y: y });
                this.particleCount++;
                this.updateParticleCount();

                // Create attraction particles
                const attractCount = Math.random() * 15 + 10;
                for (let i = 0; i < attractCount; i++) {
                    setTimeout(() => {
                        this.createAttractedParticle(x, y, color);
                    }, i * 100);
                }
            }

            createAttractedParticle(wellX, wellY, color) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const startX = wellX + (Math.random() - 0.5) * 300;
                const startY = wellY + (Math.random() - 0.5) * 300;
                const size = Math.random() * 6 + 4;

                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = startX + 'px';
                particle.style.top = startY + 'px';
                particle.style.background = `radial-gradient(circle, ${color} 0%, transparent 70%)`;
                particle.style.boxShadow = `0 0 ${size * 2}px ${color}`;
                particle.style.animation = 'none';

                this.playground.appendChild(particle);
                this.particleCount++;

                // Animate towards gravity well
                let currentX = startX;
                let currentY = startY;
                const animateStep = () => {
                    const dx = wellX - currentX;
                    const dy = wellY - currentY;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance > 5) {
                        currentX += dx * 0.05;
                        currentY += dy * 0.05;
                        particle.style.left = currentX + 'px';
                        particle.style.top = currentY + 'px';
                        requestAnimationFrame(animateStep);
                    } else {
                        particle.style.opacity = '0';
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                                this.particleCount--;
                                this.updateParticleCount();
                            }
                        }, 200);
                    }
                };
                requestAnimationFrame(animateStep);
            }

            updateParticleCount() {
                this.particleCountElement.textContent = this.particleCount;
            }

            clearAll() {
                this.playground.innerHTML = '';
                this.gravityWells = [];
                this.particleCount = 0;
                this.updateParticleCount();
            }

            startParticleCleanup() {
                setInterval(() => {
                    const particles = this.playground.children;
                    for (let i = particles.length - 1; i >= 0; i--) {
                        const particle = particles[i];
                        if (particle.style.opacity === '0' ||
                            (particle.offsetTop < -100 || particle.offsetTop > window.innerHeight + 100 ||
                             particle.offsetLeft < -100 || particle.offsetLeft > window.innerWidth + 100)) {
                            particle.remove();
                            this.particleCount--;
                        }
                    }
                    this.updateParticleCount();
                }, 1000);
            }
        }

        // Initialize the playground when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new ParticlePlayground();
        });

        // Add some ambient particles on load
        window.addEventListener('load', () => {
            const playground = new ParticlePlayground();

            // Create initial sparkles
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    playground.createSparkles(x, y);
                }, i * 200);
            }
        });
    </script>
</body>
</html>